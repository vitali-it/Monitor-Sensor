<app-header></app-header>
<div>
  <h1>
    Sensor Table
  </h1>
  <table style="width:80%">
    <tr>
      <th>Name</th>
      <th>Model</th>
      <th>Type</th>
      <th>Range</th>
      <th>Unit</th>
      <th>Location</th>
      <th *ngIf="isAllowed">Operation</th>
    </tr>
    <tr style="text-align:center" *ngFor="let item of sensorCollection | async">
      <td>{{item.name}}</td>
      <td>{{item.model}}</td>
      <td>{{item.sensorUnit.sensorType}}</td>
      <td>{{item.sensorUnit.range}}</td>
      <td>{{item.sensorUnit.unit}}</td>
      <td>{{item.location}}</td>
      <td *ngIf="isAllowed">
        <button [routerLink]="['form', item.id]" routerLinkActive="router-link-active"  (click) = 'onEdit(item)'>Edit</button> | 
        <button (click) = 'onDelete(item.id)'>Delete</button> 
      </td>
    </tr>  
  </table>
  <span>
    <button [routerLink]="['form']" routerLinkActive="router-link-active" *ngIf="isAllowed">Add Sensor</button>
    <h3 *ngIf="sensorCollection | async">Total: {{(sensorCollection | async).length}}</h3>
  </span>
</div>
